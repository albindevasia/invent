 <button (click)="addSale()" type="button" class="btn btn-primary"   style="background-color:blue">
  Add Sale
</button>


            <!-- <div class="form-group" >
                <label for="clientSearch">Search Client Name</label>
                <input  type="text" class="form-control" id="clientSearch" [(ngModel)]="searchValue" (input)="searchName()">
              </div>
              <ng-container>



              <div *ngFor="let client of clients$ | async">
                
        <ng-container *ngIf="searchValue">
                
                <tr>
                
              <a
                
           (click)="selectClient(client.id,client.first_name)"
                
                 >
                
                {{ client.first_name }}
                
        </a>
                
    </tr>
                
               
                </ng-container>
            </div>
                </ng-container>
          <form [formGroup]="saleForm">
          
            <div class="form-group">
              <label for="clientId">Client ID</label>
              <input type="text" class="form-control" formControlName="clientId">
            </div>
            
            <div class="form-group">
              <label for="products">Products</label>
              <div formArrayName="products">
                <ng-container *ngFor="let product of saleProducts.controls; let i=index">
                <div  [formGroupName]="i">
                  <input type="text" class="form-control" formControlName="productId" placeholder="Product ID">
                  <input type="text" class="form-control" formControlName="quantity" placeholder="Quantity">
                  <button type="button" class="btn btn-danger" (click)="removeProduct(i)">Remove Product</button>
                </div>
            </ng-container>
              </div>
            </div>
            <button type="button" class="btn btn-primary" (click)="addProductTolist()">Add Product</button>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" (click)="cancel()" class="btn btn-secondary" data-dismiss="modal">Close</button>
          <button type="button" (click)="  addSale()"  class="btn btn-primary">Save changes</button>
        </div> -->
        <div *ngIf="editing">
          <div class="modal-dialog modal-dialog-centered" style="width:30%; background-color:rgb(198, 214, 206)">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="saleModalLabel" style="font-weight:bolder">Add Sale</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
        <div class="container">
          <h1 class="text-center" style="font-weight:bold">New Sale</h1>
          <div class="form-group">
            <label for="client">Client:</label>
            <input type="text"  class="form-control"  [(ngModel)]="searchValue" (input)="searchName()" placeholder="Search client">
            <div *ngIf="filteredClients.length > 0" class="search-suggestions">
              <ul class="list-group"  *ngIf="!isClientSelected">
                <li class="list-group-item" 
                *ngFor="let client of filteredClients"  
                (click)="selectClient(client.id, client.first_name + ' ' + client.last_name)"  
                [hidden]="client.name === selectClient?.name" 
                >
                  {{ client.first_name }} {{ client.last_name }}
                </li>
              </ul>
            </div>
          </div>
          <form [formGroup]="saleForm">
            
        
            <div class="form-group">
              <label for="products">Products:</label>
        
              <div formArrayName="products">
                <div class="mb-3" *ngFor="let product of saleProducts.controls; let i = index" [formGroupName]="i">
                  <div class="row">
                    <div class="col">
                      <input type="number" class="form-control" formControlName="id" placeholder="Product ID">
                    </div>
        
                    <div class="col">
                      <input type="number" class="form-control" formControlName="quantity" placeholder="Quantity">
                    </div>
        
                    <div class="col-auto">
                      <button type="button" class="btn btn-danger" (click)="removeProduct(i)">
                        Remove
                      </button>
                    </div>
                  </div>
                </div>
        
                <div class="text-center">
                  <button type="button" class="btn btn-primary" (click)="addProductTolist()" style="color:black">
                    Add Product
                  </button>
                </div>
              </div>
            </div>
        
            <div class="text-center">
              <button type="button" class="btn btn-primary" (click)="confirmSale()" [disabled]="saleForm.invalid">
                Add Sale
              </button>
        
              <button type="button" class="btn btn-secondary" (click)="cancel()">
                Cancel
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>

</div> 
</div>

